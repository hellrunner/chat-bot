Есть что мне сказать.
есть пункт про пеп8 форматирования я прям уж так не делал, так что если докопаются вставьте весь код в https://codebeautify.org/python-formatter-beautifier#
это сайт форматер который переделывает под пеп8, но выглядит все оочень не удобно потом

а так вроде все работает все гибкое, можете изменять текст, добавлять блоки и внутри блока указывать что он в словаре закрыватеся (значение становится 0) и открывается значение где то в другом блоке. 
